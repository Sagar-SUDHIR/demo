<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Student - Vidyashree Shikshana Kendra</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Rubik', sans-serif;
      background: #ffffff;
      color: white;
      margin: 0;
      padding: 0;
    }

    nav {
      background: #25316D;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 5px rgba(255, 215, 0, 0.2);
    }

    nav .logo {
      font-size: 1.5rem;
      font-weight: bold;
      color: white;
    }

    nav .menu a {
      color: white;
      text-decoration: none;
      margin: 0 1rem;
      transition: color 0.3s;
    }

    nav .menu a:hover {
      color: gold;
    }

    h1 {
      text-align: center;
      margin-top: 2rem;
      color: black;
      animation: fadeInDown 1s ease;
    }
span
  {
    color: goldenrod;
  }
    .card {
       background: linear-gradient(to right, #fff6e0, #e0f7fa);
      margin: 2rem auto;
      padding: 2rem;
      border-radius: 15px;
      max-width: 600px;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
      animation: popIn 1s ease;
    }

    .card p {
      font-size: 1.1rem;
      margin: 1rem 0;
    }

    .highlight {
      color: black;
      font-weight: bold;
    }

    footer {
      background: #2c003e;
      color: #ccc;
      text-align: center;
      padding: 1rem;
      margin-top: 3rem;
    }

    footer a {
      color: gold;
      margin: 0 10px;
      text-decoration: none;
    }

    @keyframes popIn {
      from { transform: scale(0.9); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    @keyframes fadeInDown {
      from { transform: translateY(-20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>
<body>
  <nav>
    <div class="logo">Vidyashree</div>
    <div class="menu">
      <a href="index.html">Home</a>
      <a href="mystudent.html">My Student</a>
      <a href="mychildanalytics.html">Analytics</a>
      <a href="rate.html">Rating</a>
      <a href="account.html">Logout</a>
    </div>
  </nav>

  <h1>My Student Details</h1>
  <div class="card" id="studentCard">
    <p><span class="highlight">Parent Name:</span> <span id="parentName">Loading...</span></p>
    <p><span class="highlight">Parent Email:</span> <span id="parentEmail">Loading...</span></p>
    <p><span class="highlight">Student Name:</span> <span id="studentName">Loading...</span></p>
    <p><span class="highlight">Student Email:</span> <span id="studentEmail">Loading...</span></p>
    <p><span class="highlight">Grade:</span> <span id="grade">Loading...</span></p>
    <p><span class="highlight">Batch:</span> <span id="batch">Loading...</span></p>
    <p><span class="highlight">Fees Paid:</span> <span id="feePaid">0</span> / <span id="totalFee">0</span></p>
  </div>

  <footer>
    <p>Â© Vidyashree Shikshana Kendra Mulleria Corporate</p>
    <a href="#">Privacy</a> | <a href="#">Terms</a> | <a href="mailto:sagarvs2140@gmail.com">Contact</a>
  </footer>

  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
  <script>
    const firebaseConfig = {
  apiKey: "AIzaSyAcU6re1dMKhp-UEsr8uS-h26cvQ_Qo95I",
  authDomain: "vidyashree-d52ba.firebaseapp.com",
  projectId: "vidyashree-d52ba",
  storageBucket: "vidyashree-d52ba.firebasestorage.app",
  messagingSenderId: "931104308675",
  appId: "1:931104308675:web:7335834a9a212714d41176",
  measurementId: "G-T4CKZX2E73"
};
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    auth.onAuthStateChanged(user => {
      if (user) {
        const email = user.email;
        db.collection('studentOrders')
          .where('parentEmail', '==', email)
          .get()
          .then(snapshot => {
            if (!snapshot.empty) {
              const data = snapshot.docs[0].data();
              document.getElementById('parentName').textContent = data.parentName;
              document.getElementById('parentEmail').textContent = data.parentEmail;
              document.getElementById('studentName').textContent = data.studentName;
              document.getElementById('studentEmail').textContent = data.studentEmail;
              document.getElementById('grade').textContent = data.grade;
              document.getElementById('batch').textContent = data.batch;
              document.getElementById('feePaid').textContent = data.feePaid;
              document.getElementById('totalFee').textContent = data.totalFee;
            } else {
              document.getElementById('studentCard').innerHTML = '<p>No student data found for your account.</p>';
            }
          });
      } else {
        window.location.href = 'account.html';
      }
    });
  </script>
</body>
</html>